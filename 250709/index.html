<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        #renderingDataTable {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            background: #181818;
            color: #fff;
            font-size: 1rem;
        }

        #renderingDataTable th,
        #renderingDataTable td {
            border: 1px solid #333;
            padding: 0.5rem 0.75rem;
            text-align: left;
        }

        #renderingDataTable th {
            background: #222;
            cursor: pointer;
            transition: background 0.2s;
        }

        #renderingDataTable th:hover {
            background: #333;
        }

        #renderingDataTable tbody tr:nth-child(even) {
            background: #232323;
        }

        #renderingDataTable tbody tr:hover {
            background: #2a2a2a;
        }
    </style>
</head>

<body>
    <button type="button" id="renderingButton">데이터 호출!</button>
    <table id="renderingDataTable">
        <thead>
            <tr>
                <th onclick="sort('_id')">_id</th>
                <th onclick="sort('age')">age</th>
                <th onclick="sort('eyeColor')">eyeColor</th>
                <th onclick="sort('name')">name</th>
                <th onclick="sort('gender')">gender</th>
                <th onclick="sort('email')">email</th>
                <th onclick="sort('phone')">phone</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <script>
        const userData =
            '[{"_id":"5e80777f673acf89c007ff91","age":27,"eyeColor":"green","name":"Angelina Chang","gender":"female","email":"angelinachang@kangle.com","phone":"+1 (938) 477-2821"},{"_id":"5e80777feee717674b817fd2","age":25,"eyeColor":"green","name":"Deidre Cobb","gender":"female","email":"deidrecobb@kangle.com","phone":"+1 (938) 477-2824"},{"_id":"5e80777fac368a4578dda85d","age":25,"eyeColor":"blue","name":"Jolene Franks","gender":"female","email":"jolenefranks@kangle.com","phone":"+1 (985) 536-3981"},{"_id":"5e80777ff3717874cbc78e44","age":31,"eyeColor":"brown","name":"Waters Hardin","gender":"male","email":"watershardin@kangle.com","phone":"+1 (938) 559-2224"},{"_id":"5e80777fe36842ea9e024fcd","age":34,"eyeColor":"green","name":"Jody Chaney","gender":"female","email":"jodychaney@kangle.com","phone":"+1 (878) 587-2602"},{"_id":"5e80777fafd591f57344eb33","age":31,"eyeColor":"green","name":"Ortiz Maldonado","gender":"male","email":"ortizmaldonado@kangle.com","phone":"+1 (986) 509-2753"},{"_id":"5e80777f20e48e9ada226862","age":25,"eyeColor":"brown","name":"Stacy Burris","gender":"female","email":"stacyburris@kangle.com","phone":"+1 (864) 577-3500"},{"_id":"5e80777faf334f84a2c90595","age":33,"eyeColor":"brown","name":"Davenport Levy","gender":"male","email":"davenportlevy@kangle.com","phone":"+1 (990) 600-2700"}]';

        const datas = JSON.parse(userData);

        const btn = document.querySelector('#renderingButton');
        const tbody = document.querySelector('#renderingDataTable');

        function sort(key) {
            if (asc) {
                // 오름차순
                const sortedData = parsedUserData.sort((a, b) => {
                    if (a[key] < b[key]) {
                        return -1;
                    } else if (a[key] > b[key]) {
                        return 1;
                    } else {
                        return 0;
                    }
                });
                asc = false;
                renderTable(sortedData);
            } else {
                // 내림차순
                const sortedData = parsedUserData.sort((a, b) => {
                    if (a[key] < b[key]) {
                        return 1;
                    } else if (a[key] > b[key]) {
                        return -1;
                    } else {
                        return 0;
                    }
                });
                asc = true;
                renderTable(sortedData);
            }
        }

        btn.addEventListener("click", (e) => {
            datas.forEach(data => {
                const tr = document.createElement('tr');
                const td = document.createElement('td');

                tbody.appendChild(tr);


                td.textContent = data._id;
                tr.appendChild(td);
                td.textContent = data.age;
                tr.appendChild(td);
                td.textContent = data.eyeColor;
                tr.appendChild(td);
                td.textContent = data.name;
                tr.appendChild(td);
                td.textContent = data.gender;
                tr.appendChild(td);
                td.textContent = data.email;
                tr.appendChild(td);
                td.textContent = data.phone;
                tr.appendChild(td);
            })
        });
        //forEach보다 for가 나은 이유 찾아보기


    </script>
</body>

</html>